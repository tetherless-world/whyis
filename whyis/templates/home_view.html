{% extends "base_vue.html" %}

{% from "_macros.html" import render_resource_link, render_rdfa_resource_link, get_label, facts_panel, summary_panel, content %}
{% block title %}{{config['SITE_NAME']}}{% endblock %}

{% block pageheader %}
<div class="jumbotron" style="color: #eee; background-color: #08233c; background: url('{{config['SITE_HEADER_IMAGE']}}') no-repeat top center; background-size:cover">
  <div class="container" style="text-shadow: 0px 0px 20px black;">
    <h1 class="">{{title()}}</h1>
    {% if 'SITE_DESCRIPTION' in config %}
    <p class="lead">{{config['SITE_DESCRIPTION']}}</p>
    {% else %}
    {% for property, value in g.get_summary(this.description())%}
    <p class="lead">{{value}}</p>
    {% endfor %}
    {% endif %}
  </div>
</div>
{% endblock %}

{% block content %}
<div class="row" >
    {{ content(this.description()) }}
</div>
<div class="container">
  {% if app.db | length == 0 %}
    {% if not current_user or current_user.is_anonymous %}
      <!-- Recreate md-empty-state component for anonymous users -->
      <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 60vh; padding: 2rem;">
        <div class="text-center">
          <i class="material-icons text-primary mb-3" style="font-size: 5rem; color: #1976d2;">account_circle</i>
          <h2 class="mb-3" style="font-weight: 500; color: #424242;">Log in or Register to begin</h2>
          <p class="lead mb-4 text-muted" style="max-width: 400px;">Log in or create an account to begin populating your knowledge graph.</p>
          <div class="d-flex justify-content-center gap-2">
            <a class="btn btn-primary btn-lg" href="{{url_for('security.login')}}" aria-label="Log in" style="min-width: 120px;">
              <i class="material-icons me-2">login</i> Log in
            </a>
            <a class="btn btn-primary btn-lg" href="{{url_for('security.register')}}" aria-label="Register" style="min-width: 120px;">
              <i class="material-icons me-2">person_add</i> Register
            </a>
          </div>
        </div>
      </div>
    {% else %}
      <!-- Recreate md-empty-state component for authenticated users -->
      <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 60vh; padding: 2rem;">
        <div class="text-center">
          <i class="material-icons text-primary mb-3" style="font-size: 5rem; color: #1976d2;">hub</i>
          <h2 class="mb-3" style="font-weight: 500; color: #424242;">Add Knowledge</h2>
          <p class="lead mb-4 text-muted" style="max-width: 400px;">Build your knowledge graph by adding ontologies and RDF.</p>
          <button @click="nav.showAddKnowledgeMenu=true"
                  class="btn btn-primary btn-lg"
                  aria-label="Add Knowledge"
                  type="button"
                  style="min-width: 180px;">
            <i class="material-icons me-2">publish</i>
            Add Knowledge
          </button>
        </div>
      </div>
    {% endif %}
  {% else %}
  <album instancetype="{{this.identifier}}"></album>
  {% endif %}
</div>

{% endblock %}
