{% extends "base_vue.html" %}

{% from "_macros.html" import render_resource_link, render_rdfa_resource_link, get_label, facts_panel, summary_panel, content %}
{% block title %}{{config['SITE_NAME']}}{% endblock %}

{% block pageheader %}
<div class="jumbotron" style="color: #eee; background-color: #08233c; background: url('{{config['SITE_HEADER_IMAGE']}}') no-repeat top center; background-size:cover">
  <div class="container" style="text-shadow: 0px 0px 20px black;">
    <h1 class="">{{title()}}</h1>
    {% if 'SITE_DESCRIPTION' in config %}
    <p class="lead">{{config['SITE_DESCRIPTION']}}</p>
    {% else %}
    {% for property, value in g.get_summary(this.description())%}
    <p class="lead">{{value}}</p>
    {% endfor %}
    {% endif %}
  </div>
</div>
{% endblock %}

{% block content %}
<div class="row" >
    {{ content(this.description()) }}
</div>
<div>
<p>
  {% if app.db | length == 0 %}
    {% if not current_user or current_user.is_anonymous %}
      <div class="text-center py-5">
        <div class="mb-4">
          <i class="material-icons text-primary" style="font-size: 4rem;">account_circle</i>
        </div>
        <h3 class="mb-3">Log in or Register to begin</h3>
        <p class="lead mb-4">Log in or create an account to begin populating your knowledge graph.</p>
        <div class="d-flex justify-content-center gap-3">
          <a class="btn btn-primary btn-lg" href="{{url_for('security.login')}}" aria-label="Log in">
            <i class="material-icons me-2">login</i> Log in
          </a>
          <a class="btn btn-primary btn-lg" href="{{url_for('security.register')}}" aria-label="Register">
            <i class="material-icons me-2">person_add</i> Register
          </a>
        </div>
      </div>
    {% else %}
      <div class="text-center py-5">
        <div class="mb-4">
          <i class="material-icons text-primary" style="font-size: 4rem;">hub</i>
        </div>
        <h3 class="mb-3">Add Knowledge</h3>
        <p class="lead mb-4">Build your knowledge graph by adding ontologies and RDF.</p>
        <button @click="nav.showAddKnowledgeMenu=true"
                class="btn btn-primary btn-lg"
                aria-label="Add Knowledge"
                type="button">
          <i class="material-icons me-2">publish</i>
          Add Knowledge
        </button>
      </div>
    {% endif %}
  {% else %}
  <album instancetype="{{this.identifier}}"></album>
  {% endif %}
</p>

{% endblock %}
